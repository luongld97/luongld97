{"version":3,"sources":["api/ApiSender.js","api/constant.js","api/HotelApi.js","pages/RoomTypes/RoomTypes.jsx"],"names":["BaseUrl","headerDefault","Accept","Content-Type","post","route","payload","access_token","arguments","length","undefined","getToken","headers","Object","_Volumes_workspace_develop_javascript_bonitaadmin_bui_source_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","authorization","fetch","method","body","JSON","stringify","then","handleStatus","catch","catchError","postFormData","postWithoutAuth","err","response","res","ok","json","status","clearStore","origin","window","location","replace","Error","statusText","__webpack_require__","d","__webpack_exports__","AmenityApi","AuthApi","HotelApi","LocationApi","ResourceApi","RoomTypeApi","createAmenity","getAllAmenity","toggleStatusAmenity","updateAmenity","login","createHotel","getHotelInfo","updateHotelInfo","getRoomTypes","updateAmenities","getHotelImages","getHotelSetting","updateHotelSetting","getAllLocation","getLocationByType","uploadImage","removeImage","setToMainImage","createRoomType","updateRoomType","getRoomTypeById","_ApiSender__WEBPACK_IMPORTED_MODULE_0__","_constant__WEBPACK_IMPORTED_MODULE_1__","RoomTypes","props","_useState","useState","_useState2","_Volumes_workspace_develop_javascript_bonitaadmin_bui_source_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","roomTypes","setRoomTypes","useEffect","hotelId","fetchRoomTypes","_ref","_Volumes_workspace_develop_javascript_bonitaadmin_bui_source_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Volumes_workspace_develop_javascript_bonitaadmin_bui_source_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","id","wrap","_context","prev","next","value","data","map","item","index","key","stop","this","_x","apply","columns","title","dataIndex","render","text","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","src","thumbUrl","alt","width","record","rawHTML","description","React","dangerouslySetInnerHTML","__html","sorter","b","weekdayPrice","weekendPrice","maxGuests","maxAdults","roomQuantity","react_router_dom__WEBPACK_IMPORTED_MODULE_10__","to","concat","staticPath","roomTypeEdit","antd__WEBPACK_IMPORTED_MODULE_4__","orientation","antd__WEBPACK_IMPORTED_MODULE_5__","antd__WEBPACK_IMPORTED_MODULE_6__","type","style","float","marginBottom","icon","onClick","history","push","roomTypeCreate","antd__WEBPACK_IMPORTED_MODULE_7__","dataSource","bordered","pagination","showTotal","total"],"mappings":"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","file":"static/js/14.d06db317.chunk.js","sourcesContent":["import { getToken, clearStore } from '../helpers/AuthHelper'\n\nexport const BaseUrl =\"http://103.27.238.123:1269/\";\n\nconst headerDefault = {\n    'Accept': 'application/json, text/plain, */*',\n    'Content-Type': 'application/json'\n}\nfunction get(route, access_token = getToken()) {\n    let headers = {\n        'authorization': access_token,\n        ...headerDefault\n    };\n\n    return fetch(BaseUrl + route, {headers})\n        .then(handleStatus)\n        .catch(catchError);\n};\n\nfunction post(route, payload, access_token = getToken()) {\n    let headers = {\n        'authorization': access_token,\n        ...headerDefault\n    };\n    return fetch(BaseUrl + route, {method: 'POST', headers, body: JSON.stringify(payload)})\n        .then(handleStatus)\n        .catch(catchError);\n};\n\nfunction postFormData(route, payload, access_token = getToken()) {\n    let headers = {\n        'authorization': access_token\n    };\n    return fetch(BaseUrl + route, {method: 'POST', headers, body: payload})\n        .then(handleStatus)\n        .catch(catchError);\n};\n\nfunction put(route, payload, access_token = getToken()) {\n    let headers = {\n        'authorization': access_token,\n        ...headerDefault\n    };\n\n    return fetch(BaseUrl + route, {method: 'PUT', headers, body: JSON.stringify(payload)})\n        .then(handleStatus)\n        .catch(catchError);\n};\n\nfunction deleteRequest(route, access_token = getToken()) {\n    let headers = {\n        'authorization': access_token,\n        ...headerDefault\n    };\n\n    return fetch(BaseUrl + route, {method: 'DELETE', headers})\n        .then(handleStatus)\n        .catch(catchError);\n};\n\nfunction getWithoutAuth(route) {\n    return fetch(BaseUrl + route, {headers: {...headerDefault}})\n        .then(handleStatus)\n        .catch(catchError);\n};\n\nfunction postWithoutAuth(route, payload) {\n    return fetch(BaseUrl + route, {method: 'POST', body: JSON.stringify(payload), headers: {...headerDefault}})\n        .then(handleStatus)\n        .catch(catchError);\n};\n\nfunction catchError(err) {\n\tthrow err.response;\n}\n\nfunction handleStatus(res) {\n    if (!res.ok) {\n        if (res.status === 401) {\n            clearStore();\n            const origin = window.location.origin;\n            window.location.replace(origin);\n        }\n        throw new Error(res.statusText);\n    } else {\n        return res.json();\n    }\n}\n\nexport { get, post, put, deleteRequest, getWithoutAuth, postWithoutAuth, postFormData }\n","export const AmenityApi = {\n    createAmenity: 'api/amenity/create',\n    getAllAmenity: 'api/amenity/get-all-with-status',\n    toggleStatusAmenity: 'api/amenity/toggle-status',\n    updateAmenity: 'api/amenity/update'\n}\n\nexport const AuthApi = {\n    login: 'api/auth/generate-token'\n}\n\nexport const HotelApi = {\n    createHotel: 'api/hotel/create',\n    getHotelInfo: 'api/hotel-info/general',\n    updateHotelInfo: 'api/hotel-info/update',\n    getRoomTypes: 'api/hotel/room-types',\n    updateAmenities: 'api/hotel/update-amenities',\n    getHotelImages: 'api/hotel/images',\n    getHotelSetting: 'api/hotel/get-setting',\n    updateHotelSetting: 'api/hotel/update-setting'\n}\n\nexport const LocationApi = {\n    getAllLocation: 'api/location/activates',\n    getLocationByType: 'api/location/get-by-type'\n}\n\nexport const ResourceApi = {\n    uploadImage: 'api/resource/upload',\n    removeImage: 'api/resource/remove',\n    setToMainImage: 'api/resource/set-to-main-image'\n}\n\nexport const RoomTypeApi = {\n    createRoomType: 'api/room/create',\n    updateRoomType: 'api/room/update-details',\n    updateAmenities: 'api/room/update-amenities',\n    getRoomTypeById: 'api/room/details'\n}","import { post } from './ApiSender';\nimport { HotelApi } from './constant';\n\nexport function createHotel(payload) {\n    return post(HotelApi.createHotel, payload);\n}\n\nexport function getHotelInfo(payload) {\n    return post(HotelApi.getHotelInfo, payload);\n}\n\nexport function updateHotelInfo(payload) {\n    return post(HotelApi.updateHotelInfo, payload);\n}\n\nexport function getRoomTypes(payload) {\n    return post(HotelApi.getRoomTypes, payload);\n}\n\nexport function updateAmenities(payload) {\n    return post(HotelApi.updateAmenities, payload);\n}\n\nexport function getHotelImages(payload) {\n    return post(HotelApi.getHotelImages, payload);\n}\n\nexport function getHotelSetting(payload) {\n    return post(HotelApi.getHotelSetting, payload);\n}\n\nexport function updateHotelSetting(payload) {\n    return post(HotelApi.updateHotelSetting, payload);\n}","import React, { useState, useEffect } from 'react';\nimport { Table, Divider, Button, Row } from 'antd';\nimport { getRoomTypes } from '../../api/HotelApi';\nimport { BaseUrl } from '../../api/ApiSender';\nimport { Link } from 'react-router-dom';\nimport { staticPath } from '../../RouteConfig';\n\nexport default function RoomTypes(props) {\n  const [roomTypes, setRoomTypes] = useState([]);\n\n  useEffect(() => {\n    if (props.hotelId) {\n      fetchRoomTypes(props.hotelId);\n    }\n  }, [props.hotelId])\n\n  const fetchRoomTypes = async (id) => {\n    getRoomTypes({ hotelId: id }).then(res => {\n      if (res.status === 'SUCCESS' && res.value) {\n        const data = res.value;\n        data.map((item, index) => {\n          item.key = index + 1;\n        })\n        setRoomTypes(data);\n      }\n    })\n  }\n\n  const onDeleteRoomType = (record) => {\n    console.log(record);\n  }\n\n  const renderHTML = (rawHTML) => React.createElement(\"span\", { dangerouslySetInnerHTML: { __html: rawHTML } });\n\n  const columns = [{\n    title: 'Ảnh loại phòng',\n    dataIndex: 'image',\n    key: 'image',\n    render: text => text ? <img src={BaseUrl + text.thumbUrl} alt=\"\" width='100%' /> : null,\n  }, {\n    title: 'Loại phòng',\n    dataIndex: 'i18ns',\n    key: 'i18ns',\n    render: (text, record) => (\n      <div>\n        <p><b>Tên loại phòng: </b>{text[0].title}</p>\n        <p><b>Thông tin mô tả: </b>{renderHTML(text[0].description)}</p>\n      </div>\n    ),\n  }, {\n    title: 'Giá ngày thường',\n    dataIndex: 'weekdayPrice',\n    key: 'weekdayPrice',\n    sorter: (a, b) => a.weekdayPrice - b.weekdayPrice,\n  }, {\n    title: 'Giá cuối tuần',\n    key: 'weekendPrice',\n    dataIndex: 'weekendPrice',\n    sorter: (a, b) => a.weekendPrice - b.weekendPrice,\n  }, {\n    title: 'Số khách tối đa',\n    key: 'maxGuests',\n    dataIndex: 'maxGuests',\n    sorter: (a, b) => a.maxGuests - b.maxGuests,\n  }, {\n    title: 'Số người lớn tối đa',\n    key: 'maxAdults',\n    dataIndex: 'maxAdults',\n    sorter: (a, b) => a.maxAdults - b.maxAdults,\n  }, {\n    title: 'Tổng số phòng',\n    key: 'roomQuantity',\n    dataIndex: 'roomQuantity',\n    sorter: (a, b) => a.roomQuantity - b.roomQuantity,\n  }, {\n    title: 'Thao tác',\n    dataIndex: 'roomId',\n    key: 'roomId',\n    render: (text, record) => (\n      <span>\n        <Link to={`${staticPath.roomTypeEdit}/${text}`}>Sửa</Link>\n        {/* <Divider type=\"vertical\" />\n        <a href={null} onClick={() => onDeleteRoomType(record)}>Xóa</a> */}\n      </span>\n    ),\n  }];\n\n  return (\n    <div>\n      <Divider orientation=\"left\">Thông tin các Loại phòng</Divider>\n      <Row>\n        <Button type=\"primary\" style={{ float: 'right', marginBottom: '16px' }} icon='plus'\n          onClick={() => props.history.push(staticPath.roomTypeCreate)}\n        >\n          Thêm mới Loại phòng\n      </Button>\n      </Row>\n      <Table columns={columns} dataSource={roomTypes} bordered\n        pagination={{\n          showTotal: (total => <span>Tổng cộng {total} phòng</span>)\n        }}\n      />\n    </div>\n  )\n}\n"],"sourceRoot":""}