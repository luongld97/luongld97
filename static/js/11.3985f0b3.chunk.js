(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{188:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return u});var a=n(208),o=n(50),r="http://103.27.238.123:1269/",c={Accept:"application/json, text/plain, */*","Content-Type":"application/json"};function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(o.b)(),i=Object(a.a)({authorization:n},c);return fetch(r+e,{method:"POST",headers:i,body:JSON.stringify(t)}).then(d).catch(s)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(o.b)();return fetch(r+e,{method:"POST",headers:{authorization:n},body:t}).then(d).catch(s)}function l(e,t){return fetch(r+e,{method:"POST",body:JSON.stringify(t),headers:Object(a.a)({},c)}).then(d).catch(s)}function s(e){throw e.response}function d(e){if(e.ok)return e.json();if(401===e.status){Object(o.a)();var t=window.location.origin;window.location.replace(t)}throw new Error(e.statusText)}},192:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return i}),n.d(t,"f",function(){return u});var a={createAmenity:"api/amenity/create",getAllAmenity:"api/amenity/get-all-with-status",toggleStatusAmenity:"api/amenity/toggle-status",updateAmenity:"api/amenity/update"},o={login:"api/auth/generate-token"},r={createHotel:"api/hotel/create",getHotelInfo:"api/hotel-info/general",updateHotelInfo:"api/hotel-info/update",getRoomTypes:"api/hotel/room-types",updateAmenities:"api/hotel/update-amenities",getHotelImages:"api/hotel/images",getHotelSetting:"api/hotel/get-setting",updateHotelSetting:"api/hotel/update-setting"},c={getAllLocation:"api/location/activates",getLocationByType:"api/location/get-by-type"},i={uploadImage:"api/resource/upload",removeImage:"api/resource/remove",setToMainImage:"api/resource/set-to-main-image"},u={createRoomType:"api/room/create",updateRoomType:"api/room/update-details",updateAmenities:"api/room/update-amenities",getRoomTypeById:"api/room/details"}},223:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return c}),n.d(t,"g",function(){return i}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return d}),n.d(t,"h",function(){return m});var a=n(188),o=n(192);function r(e){return Object(a.b)(o.c.createHotel,e)}function c(e){return Object(a.b)(o.c.getHotelInfo,e)}function i(e){return Object(a.b)(o.c.updateHotelInfo,e)}function u(e){return Object(a.b)(o.c.getRoomTypes,e)}function l(e){return Object(a.b)(o.c.updateAmenities,e)}function s(e){return Object(a.b)(o.c.getHotelImages,e)}function d(e){return Object(a.b)(o.c.getHotelSetting,e)}function m(e){return Object(a.b)(o.c.updateHotelSetting,e)}},288:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return k});var a=n(293),o=n(323),r=n.n(o),c=n(324),i=n(206),u=n(1),l=n.n(u),s=n(309),d=n(286),m=n(696),p=n(190),g=n(282),f=n(204),h=n(550),b=n(283),v=n(297),y=n(223),O=n(358),j=n(188),I=n(500),S=s.a.Dragger,E=d.a.Meta;function k(e){var t=Object(u.useState)(void 0),n=Object(i.a)(t,2),o=n[0],s=n[1],k=Object(u.useState)([]),w=Object(i.a)(k,2),C=w[0],x=w[1],T=Object(u.useState)(!1),H=Object(i.a)(T,2),A=H[0],M=H[1],_=Object(u.useState)([]),U=Object(i.a)(_,2),L=U[0],N=U[1],R=Object(u.useState)(!1),B=Object(i.a)(R,2),J=B[0],P=B[1],z=Object(u.useState)(!1),X=Object(i.a)(z,2),D=X[0],q=X[1],F=Object(u.useState)({}),V=Object(i.a)(F,2),Z=V[0],G=V[1];Object(u.useEffect)(function(){e.hotelId&&K(e.hotelId)},[e.hotelId]);var K=function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(y.b)({hotelId:t,paging:{currentPage:0,pageSize:50}}).then(function(e){"SUCCESS"===e.status&&e.value&&N(e.value)});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Q={name:"image",accept:".jpg, .jpeg, .png, .gif",listStyle:"picture",multiple:!1,beforeUpload:function(e){return x([e]),s(e),!1},fileList:C};return l.a.createElement("div",null,l.a.createElement(S,Q,l.a.createElement("p",{className:"ant-upload-drag-icon"},l.a.createElement(p.a,{type:"inbox"})),l.a.createElement("p",{className:"ant-upload-text"},"Click ho\u1eb7c k\xe9o th\u1ea3 \u1ea3nh v\xe0o \u0111\xe2y \u0111\u1ec3 t\u1ea3i l\xean")),l.a.createElement(g.a,{style:{marginTop:"16px"}},l.a.createElement(f.a,{type:"primary",onClick:function(){if(e.hotelId){var t=new FormData;t.append("hotelId",e.hotelId),t.append("image",o),M(!0),Object(O.c)(t).then(function(t){s(void 0),x([]),M(!1),"SUCCESS"===t.status?(K(e.hotelId),m.a.success("T\u1ea3i l\xean th\xe0nh c\xf4ng")):m.a.error(t.value||"T\u1ea3i l\xean kh\xf4ng th\xe0nh c\xf4ng")}).catch(function(e){M(!1),m.a.error(e.message)})}},disabled:void 0===o,loading:A},A?"\u0110ang t\u1ea3i l\xean":"T\u1ea3i l\xean"),l.a.createElement("div",{style:{float:"right"}},l.a.createElement(f.a,{type:"danger",style:{marginRight:"5px"},onClick:function(){var t=[];L.map(function(e){e.selected&&t.push({imageId:e.imageId})}),0!==t.length&&window.confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a \u1ea3nh n\xe0y?")&&(P(!0),Object(O.a)(t).then(function(t){P(!1),"SUCCESS"===t.status?(K(e.hotelId),m.a.success("X\xf3a \u1ea3nh th\xe0nh c\xf4ng")):m.a.error(t.value||"X\xf3a \u1ea3nh kh\xf4ng th\xe0nh c\xf4ng")}).catch(function(e){P(!1),m.a.error(e.message)}))},loading:J},"X\xf3a"),l.a.createElement(f.a,{type:"primary",onClick:function(){var e=0;L.map(function(t){t.mainImage&&(e=t.imageId)}),0!==e&&(P(!0),Object(O.b)({imageId:e}).then(function(e){P(!1),"SUCCESS"===e.status?m.a.success("L\u01b0u \u1ea3nh th\xe0nh c\xf4ng"):m.a.error(e.value||"L\u01b0u \u1ea3nh kh\xf4ng th\xe0nh c\xf4ng")}).catch(function(e){P(!1),m.a.error(e.message)}))},loading:J},"L\u01b0u"))),l.a.createElement(h.a,{orientation:"left"},"H\xecnh \u1ea3nh \u0111\xe3 t\u1ea3i l\xean"),l.a.createElement(g.a,{gutter:16},L&&L.map(function(e,t){return l.a.createElement(b.a,{xs:24,sm:8,md:6,lg:4,key:t,style:{marginBottom:"16px"}},l.a.createElement(d.a,{hoverable:!0,bordered:!0,style:{position:"relative"},cover:l.a.createElement("img",{alt:"thumb",src:j.a+e.thumbUrl,onClick:function(){return function(e){G(e),q(!0)}(t)}})},l.a.createElement(E,{title:l.a.createElement(v.a,{checked:e.mainImage,onChange:function(e){return function(e,t){var n=Object(a.a)(L);n.map(function(n,a){a===t&&e.target.checked?n.mainImage=!0:n.mainImage=!1}),N(n)}(e,t)}},"\u1ea2nh ch\xednh"),description:l.a.createElement(v.a,{style:{position:"absolute",right:"10px",top:"10px",transform:"scale(1.5)"},checked:e.selected,onChange:function(e){return function(e,t){var n=Object(a.a)(L);n[t].selected=e.target.checked,N(n)}(e,t)}})})))})),l.a.createElement(I.a,{showModal:D,onCloseModal:function(){q(!1)},images:L,selectedImageIdx:Z}))}},358:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return i});var a=n(188),o=n(192);function r(e){return Object(a.c)(o.e.uploadImage,e)}function c(e){return Object(a.b)(o.e.removeImage,e)}function i(e){return Object(a.b)(o.e.setToMainImage,e)}},500:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n(1),o=n.n(a),r=n(291),c=n(620),i=n(190),u=n(188),l=n(501),s=n.n(l);function d(e){var t;return Object(a.useEffect)(function(){t&&t.goTo(e.selectedImageIdx,!0)},[e.selectedImageIdx]),o.a.createElement("div",null,o.a.createElement(r.a,{visible:e.showModal,footer:null,onCancel:e.onCloseModal,width:"90%",bodyStyle:{padding:0,backgroundColor:"black"}},o.a.createElement(c.a,{autoplay:!0,pauseOnHover:!0,infinite:!0,initialSlide:e.selectedImageIdx,ref:function(e){return t=e},arrows:!0,nextArrow:o.a.createElement(m,{to:"right"}),prevArrow:o.a.createElement(m,{to:"left"})},e.images&&e.images.map(function(e){return o.a.createElement("img",{src:u.a+e.fullUrl,alt:"img hotel",key:e.imageId})}))))}var m=function(e){e.className;var t=e.to,n=e.onClick;return o.a.createElement("button",{type:"button",onClick:n,className:"slick-arrow "+s.a["slick-arrow"]+" "+("right"===t?s.a.next:s.a.prev),"aria-label":t},o.a.createElement(i.a,{type:t,onClick:n}))}},501:function(e,t,n){e.exports={"slick-arrow":"SlideImageModal_slick-arrow__3n9lZ",next:"SlideImageModal_next__2qVdT",prev:"SlideImageModal_prev__1v4d5"}}}]);
//# sourceMappingURL=11.3985f0b3.chunk.js.map